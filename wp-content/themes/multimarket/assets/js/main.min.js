"use strict";function initMobileMenu(){var e=$(".menu-main-wrapper .menu").length?$(".menu-main-wrapper .menu"):$(".menu-main-dropdown .menu"),t=$(".mobile-menu");t.append(e.clone());var i=t.find(".menu-item-has-children > a");i.each(function(){var e='<button class="no-ui open-sub"><i class="dripicons-chevron-down"></i></button>';$(this).append(e)}),t.find(".open-sub").on("click",function(e){e.preventDefault(),$(this).toggleClass("active"),$(this).parent().next().slideToggle()});var n=$(".mobile-menu-wrap .menu-user-wrap"),a=$(".mobile-menu-wrap .menu-user-avatar");a.on("click",function(){n.slideToggle(200)})}function initMegaMenu(){function e(){i(this)}function t(){n(this)}function i(e){var t=$(e).find(">.sub-menu"),i=t.innerWidth(),n=t.innerHeight(),s=$('<div class="hover-area"></div>'),r={paddingBottom:void 0!==$(e).data("pb")&&""!==$(e).data("pb")?parseInt($(e).data("pb")):0,paddingRight:void 0!==$(e).data("pr")&&""!==$(e).data("pr")?parseInt($(e).data("pr")):0,background:$(e).data("bg")};clearTimeout(a),o.addClass("mega-open"),p.css({backgroundImage:"url("+r.background+")",opacity:0}),o.css({width:l+i+r.paddingRight,height:n+40>d?n+40+r.paddingBottom:d+r.paddingBottom}),o.on("transitionend",function(){p.css("opacity",1)}),$(e).append(s),isRTL?$(e).find(".hover-area").css({right:l,top:-20,width:i+r.paddingRight,height:n+40>d?n+40+r.paddingBottom:d+r.paddingBottom}):$(e).find(".hover-area").css({left:l,top:-20,width:i+r.paddingRight,height:n+40>d?n+40+r.paddingBottom:d+r.paddingBottom}),$(e).addClass("sub-open"),c.addClass("sub-open")}function n(e){$(e).removeClass("sub-open"),o.css({height:d}),a=setTimeout(function(){o.css({width:l})},60),o.removeClass("mega-open"),c.removeClass("sub-open"),p.css("opacity",0),$(e).find(".hover-area").remove()}var a,o=$(".menu-main-wrapper"),s=o.find(".menu"),r=s.find(" > .mega-menu"),l=o.innerWidth(),d=o.innerHeight(),c=$(".menu-main-background"),u=$(".menu-main-overlay"),p=$(".sub-bg-container");c.width(l),isRTL?p.css("right",l+2):p.css("left",l+2),$(".hdr-widget--menu-main .menu-main-toggle").on("click",function(e){e.preventDefault(),$(this).hasClass("is-active")?($(this).removeClass("is-active"),o.removeClass("is-active"),u.removeClass("is-active")):($(this).addClass("is-active"),o.addClass("is-active"),u.addClass("is-active")),$(".mobile-menu-wrap").slideToggle()}),u.on("click",function(){u.removeClass("is-active"),$(".menu-main-toggle").removeClass("is-active"),o.removeClass("is-active")}),$(".hdr-widget--menu-main.open-onhover").hoverIntent(function(){var e=$(this).find(".menu-main-toggle");e.hasClass("is-active")||window.innerWidth>991&&(e.addClass("is-active"),o.addClass("is-active"),u.addClass("is-active"))},function(){$(this).find(".menu-main-toggle").removeClass("is-active"),o.removeClass("is-active"),u.removeClass("is-active")}),r.hover(e,t)}function authorIndexFilter(){var e=$(".author-index"),t=$(".browse-author-by-alphabet a");e.isotope({filter:"*",layoutMode:"fitRows",animationOptions:{duration:750,easing:"linear",queue:!1}}),t.click(function(i){var n=$(this).data("filter");return t.removeClass("current"),$(this).addClass("current"),e.isotope({filter:n}),i.preventDefault(),!1})}function initHeroCarousel(){var e=$(".hero-carousel-wrap"),t=e.data("style"),i=parseInt(e.data("duration")),n=e.data("fade"),a=$(".hero-carousel");switch(t){case"style-2":a.slick({lazyload:"ondemand",slidesToShow:1,infinite:!0,dots:!0,arrows:!0,autoplay:!0,prevArrow:'<button type="button" class="no-ui slick-prev"><i class="dripicons-chevron-left"></i></button>',nextArrow:'<button type="button" class="no-ui slick-next"><i class="dripicons-chevron-right"></i></button>',fade:n,autoplaySpeed:i});break;default:a.slick({lazyload:"ondemand",slidesToShow:1,centerPadding:"400px",centerMode:!0,infinite:!0,dots:!1,arrows:!1,autoplay:!0,autoplaySpeed:i,responsive:[{breakpoint:1700,settings:{centerPadding:"300px"}},{breakpoint:1600,settings:{centerPadding:"200px"}},{breakpoint:1300,settings:{centerPadding:"150px"}},{breakpoint:1024,settings:{centerPadding:"0"}}]})}}function initProductCarousel(){var e=$(".mm-products-carousel"),t=e.find(".grid-layout"),i=e.data("visible"),n=e.data("auto"),a=e.data("autodelay"),o=e.data("isoffset"),s=e.data("offset");t.slick({slidesToShow:parseInt(i),centerMode:o,centerPadding:parseInt(s)+"px",dots:!0,prevArrow:'<button type="button" class="slick-prev">Previous</button>',nextArrow:'<button type="button" class="slick-next">Next</button>',autoplay:n,autoplaySpeed:parseInt(a),responsive:[{breakpoint:990,settings:{slidesToShow:3,centerMode:!0,centerPadding:30}},{breakpoint:640,settings:{slidesToShow:2,centerMode:!1}},{breakpoint:480,settings:{slidesToShow:1,centerMode:!1}}]})}function testimonialSlider(){$(".testimonial-slider").slick({slidesToShow:1,prevArrow:'<button class="no-ui slick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button class="no-ui slick-next"><i class="fa fa-angle-right"></i></button>',responsive:[{breakpoint:480,settings:{slidesToShow:1,arrows:!1,dots:!0}}]})}function initLookInside(){var e=$(".tokoo-look-inside"),t=e.find(".preview-zoom-in"),i=e.find(".preview-zoom-out"),n=e.find(".book-pages"),a=e.find(".look-inside-box"),o=e.find(".toggle-detail-tab"),s=e.find(".toggle-related-tab");$(".look-inside__close").on("click",function(){e.fadeOut()}),o.on("click",function(){a.toggleClass("tab-detail-active")}),s.on("click",function(){a.toggleClass("tab-related-active")}),t.on("click",function(e){e.preventDefault(),console.log("zoom in"),n.innerWidth()>1200||n.css({width:n.innerWidth()+100})}),i.on("click",function(e){e.preventDefault(),console.log("zoom out"),n.innerWidth()<600||n.css({width:n.innerWidth()-100})})}function initProductSearch(){var e=$(".product-search-input input");e.on("keyup",function(){""!==$(this).val()?$(this).addClass("dirty"):$(this).removeClass("dirty")})}function initMasonryLayout(){$(".post-masonry").isotope({layoutMode:"masonry"}),$("html").hasClass("no-flexbox")&&$(".post-grid").isotope({layoutMode:"masonry"})}function initGoodies(){var e=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerHook:.4,triggerElement:".site-header",duration:"200%"}).setTween(TweenMax.to(".post__image .bg",1,{y:"50%"})).addTo(e);$(".post__share a").on("mouseenter",function(){$(this).addClass("animated").on("animationend",function(){$(this).removeClass("animated")})}),$(".see-back").on("click",function(){$(this).parents(".book-images").find(".book").toggleClass("back-view")})}function initMap(){$(".tokoo-map").each(function(){var e=$(this),t=parseFloat(e.data("lat")),i=parseFloat(e.data("lon")),n=(e.data("marker-image"),e.siblings(".map-style").length?JSON.parse(e.siblings(".map-style").html()):[]),a=parseInt(e.data("height")),o=e.data("title"),s=e.data("content"),r=e.data("zoom")?e.data("zoom"):13;console.log(t,i,r),e.height(a),e.gmap3({center:[t,i],zoom:r,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,navigationControl:!0,scrollwheel:!1,streetViewControl:!1,styles:n}).marker({position:[t,i]}).infowindow({content:"<div class='tokoo-info-window'><h2>"+o+"</h2>"+s+"</div>"}).then(function(e){var t=this.get(0),i=this.get(1);i.addListener("click",function(){e.open(t,i)})})})}function initSocialShare(){$(".post__share").each(function(){var e=$(this).data("title"),t=$(this).data("text"),i=$(this).data("image"),n=$(this).data("url"),a=$(this).data("width"),o=$(this).data("height");$(this).find("a").ShareLink({title:e,text:t,image:i,url:n,width:a,height:o})})}function initFlexSlider(){$(".gallery-slider,.koo-image-slider").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,prevText:'<i class="dripicons-chevron-left"></i>',nextText:'<i class="dripicons-chevron-right"></i>'})}function initCountdown(){$(".product-date-count-down").each(function(){var e=$(this).data("date");$(this).countdown(e,function(e){$(this).html(e.strftime('<div class="count-num"><span class="timer">%D</span><span class="label">'+multimarket_translate.days+'</span></div> <div class="count-num"><span class="timer">%H</span><span class="label">'+multimarket_translate.hr+'</span></div> <div class="count-num"><span class="timer">%M</span><span class="label">'+multimarket_translate.min+'</span></div> <div class="count-num"><span class="timer">%S</span><span class="label">'+multimarket_translate.sec+"</span></div>"))})})}function tokooAudioPlaylist(){var e=$(".music-cover-wrap"),t=(e.find(".play"),$(".product-overview").find("audio")[0]);e.length&&($(document).on("click",".music-cover .play",function(){t.paused?(t.play(),e.find(".music-cover").addClass("is-playing")):(t.pause(),e.find(".music-cover").removeClass("is-playing"))}),t.addEventListener("play",function(){e.find(".music-cover").addClass("is-playing")},!1),t.addEventListener("pause",function(){e.find(".music-cover").removeClass("is-playing")},!1))}function dealNavTab(){var e=$(".deal-tab-grid");e.on("click",".deal-tab-nav a",function(t){t.preventDefault();var i=$(this).attr("href");$(this).parent().siblings().removeClass("active"),$(this).parent().addClass("active"),e.find(".deal-tab-pane").removeClass("active"),$(i).addClass("active")})}function initStickyHeader(){var e=$(".site-header-wrap"),t=e.find(".site-header").innerHeight();e.hasClass("is-sticky")&&e.css({height:t+"px"})}function initDecoration(){if($(".mm-product-action").length){var e=$(".site-header").innerHeight(),t=$(".mm-product-action").offset().top,i=$(".mm-product-action").innerHeight(),n=$(".admin-bar").length?30:0;$(".mm-top-bg").height(t+i-e-n).addClass("loaded")}}$=jQuery;var isRTL=$("body").hasClass("rtl"),multimarket=multimarket_js_var;$(document).ready(function(){initStickyHeader(),initMobileMenu(),initHeroCarousel(),initProductSearch(),initMasonryLayout(),initGoodies(),initMap(),initSocialShare(),initLookInside(),initCountdown(),dealNavTab(),initProductCarousel(),testimonialSlider(),initDecoration(),$(".tokoo-lazyload").lazyload({load:function(e,t,i){$(this).addClass("lazy-loaded")}}),$(".see-gallery").hover(function(){$(".movie-case").addClass("is-open")},function(){$(".movie-case").removeClass("is-open")}),$(".see-inside").on("click",function(e){e.preventDefault(),$(".tokoo-look-inside").fadeIn()}),$(".venobox").venobox(),$(".open-login-popup").on("click",function(e){return!$("body").hasClass("woocommerce-account")&&($(".user-auth-box").fadeIn(),void e.preventDefault())}),$(".user-auth-box .woocommerce-error").length&&$(".open-login-popup").trigger("click"),$(".user-auth-box .tokoo-popup__close").on("click",function(){$(this).parents(".tokoo-popup").fadeOut()}),$(".author-area").stick_in_parent().on("sticky_kit:bottom",function(e){$(this).parent().css("position","static")}).on("sticky_kit:unbottom",function(e){$(this).parent().css("position","relative")}),$(".hdr-widget--menu-cart").on("click",function(e){e.stopPropagation(),$(".mobile-menu-wrap").is(":visible")&&($(".mobile-menu-wrap").hide(),$(".menu-main-overlay").removeClass("is-active"),$(".menu-main-toggle").removeClass("is-active"))});var e=$(".search-dropdown"),t=e.find(".search-dropdown-toggle");t.on("click",function(t){t.preventDefault(),e.find("input").focus(),e.toggleClass("search-open")}),$("#kc-element-placeholder").length&&$(".body").addClass("liveeditor-enabled"),$("body").hasClass("woocommerce-account")||($(".show_if_seller").find("input, select").attr("disabled","disabled"),$(document).on("change",".user-role input",function(e){e.preventDefault();var t=$(this).val();"seller"===t?($(".show_if_seller").find("input, select").removeAttr("disabled"),$(".show_if_seller").slideDown(),$(this).parents(".user-role").find("input[value=customer]").prop("checked",!1),$(this).prop("checked",!0),$(".tc_check_box").length>0&&$("button[name=register]").attr("disabled","disabled")):($(".show_if_seller").find("input, select").attr("disabled","disabled"),$(".show_if_seller").slideUp(),$(this).parents(".user-role").find("input[value=seller]").prop("checked",!1),$(this).prop("checked",!0),$(".tc_check_box").length>0&&$("button[name=register]").removeAttr("disabled"))}))}),$(window).resize(function(){initStickyHeader()}),$(window).load(function(){initMegaMenu(),initMasonryLayout(),initFlexSlider(),authorIndexFilter(),tokooAudioPlaylist(),initStickyHeader(),initDecoration()});